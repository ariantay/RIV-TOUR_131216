<html>

<head>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;" />
<script src="css/source-sans-pro.js"></script>
<link href="css/jquery.mobile-1.3.2.min.css" rel="stylesheet" type="text/css" />
<link href="css/newStyles2.css" rel="stylesheet">
<link href="css/flexslider.css" rel="stylesheet" type="text/css" media="screen" />
<link href="css/jquery.pageslide.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div id='top'></div>
<div id='middle'></div>
<div id='popup' style='display:none'></div>
<div id='temp' style='display:none'></div>
<!--TEMPLATE DEFINITIONS-->
<!--
<script id="home-tpl" type="text/x-handlebars-template">
    <div class='header'><h1>Home</h1></div>
</script>


<script id="locText-tpl" type="text/x-handlebars-template">
	<div id='textContainer'>
		<div id='textDisplay'>
			{{info}}
		</div>
	</div>	
</script>


<script id="locText-tpl" type="text/x-handlebars-template">
	<p id="geolocation">Watching geolocation...</p>
	<button onclick="clearWatch();">Clear Watch</button>
	<button onclick="#employees/3">Clear Watch</button>
	<li>
	<img src="img/Mission Inn 2.jpg" />
	</li>
</script>
-->
<script id="employee-li-tpl" type="text/x-handlebars-template">
	<div class="scroll"><ul class='employee-list'>
    {{#.}}
		<li class='listElement'><a href="#employees/{{this.id}}">{{this.name}}<br/><!--{{this.geoy}}, {{this.geox}}<br/> -->
		<div class='distance_{{this.id}}'> Distance: {{this.distance}}</div></a></li>
    {{/.}}
	</ul></div>
</script>
<script id="employee-tpl" type="text/x-handlebars-template">
    <div class='header'>
		<span class="button header-button header-button-left">Home</span>
		<h1>Details</h1>
	</div>
	<div id='slideSize' class='sizeControl'>
		<div class="flexslider">
		  <ul class="slides">
			<li>
			  <img src="img/{{name}} 1.jpg" />
			</li>
			<li>
			  <img src="img/{{name}} 2.jpg" />
			</li>
			<li>
			  <img src="img/{{name}} 3.jpg" />
			</li>
			<li>
			  <img src="img/{{name}} 4.jpg" />
			</li>
		  </ul>
		</div>
	</div>	
		<audio controls autoplay style='margin:10px;'>
		<source src='audio/{{name}}.ogg' type="audio/ogg">
		<source src='audio/{{name}}.mp3' type="audio/mpeg">
		Your browser does not support the audio element.
	</audio>
	<div id='textContainer' class='sizeControl'>
		<div id='textDisplay'>
			{{info}}
		</div>
	</div>	
	 <!--<a href="javascript:onSuccess();" class="test">CLICK ME</a>
	images test *** below is working audio and img
	<div class='imgholder' style='height:350px;'>
    <img id='image' src='img/{{name}}.jpg' style="margin:10px;width: 100%;max-width:500px"/>
	</div>
	
	<audio controls autoplay style='margin:10px;'>
		<source src='audio/{{name}}.ogg' type="audio/ogg">
		<source src='audio/{{name}}.mp3' type="audio/mpeg">
		Your browser does not support the audio element.
	</audio>
	
    <h1>{{name}}</h1>
    <h2>{{geoy}}, {{geox}}</h2>

    <span class="location"></span>
    <ul>
    <li>Street<br/>{{street}}</li>
    <li>City, State<br/>{{city}}, {{state}}</li>
    <li><a href="tel:{{phone}}">Phone<br/>{{phone}}</a></li>
    <li><a href="#" class="add-location-btn">Add Location</a></li>
    <li><a href="#" class="add-contact-btn">Add to Contacts</a></li>
    <li><a href="#" class="change-pic-btn">Change Picture</a></li>
    </ul>
	-->
</script>
<!--SCRIPT IMPORTS-->
<script src="phonegap.js"></script>
<script src="lib/jquery-1.10.2.min.js"></script>
<script src="lib/jquery.mobile-1.3.2.min.js"></script>
<script src="lib/jquery.flexslider.js"></script>
<!--<script src="lib/jquery.slidepanel.js"></script>-->
<script src="lib/handlebars.js"></script>
<script src="lib/jquery.pageslide.min.js"></script>
<script src="js/storage/memory-store-test.js"></script>
<script src="js/newEmployeeView.js"></script>
<script src="js/newHomeView.js"></script>
<script src="js/newMain.js"></script>
<!--
<script type="text/javascript" charset="utf-8">
            
            // Wait for device API libraries to load
            //
            document.addEventListener("deviceready", onDeviceReady, false);
            
            var watchID = null;
            
            // device APIs are available
            //
            function onDeviceReady() {
                // Get the most accurate position updates available on the
                // device.
                var options = { enableHighAccuracy: true };
                watchID = navigator.geolocation.watchPosition(onSuccess, onError, options);
            }
        
        // onSuccess Geolocation
        //
        function onSuccess(position) {
	
            var element = document.getElementById('geolocation');
            element.innerHTML = 'Latitude: '  + position.coords.latitude      + '<br />' +
            'Longitude: ' + position.coords.longitude     + '<br />' +
            'Distance from Cabin Sushi in feet: ' + getDistanceFromLatLonInFeet(position.coords.latitude,position.coords.longitude,33.981197,-117.376176)     + '<br />' +
            '<hr />'      + element.innerHTML;

			if (getDistanceFromLatLonInFeet(position.coords.latitude,position.coords.longitude,33.981197,-117.376176) < 240) {
				this.location.href="index.html#employees/3"
			}
			console.log("onsuceess called");
        }
        
        // clear the watch that was started earlier
        //
        function clearWatch() {
            if (watchID != null) {
                navigator.geolocation.clearWatch(watchID);
                watchID = null;
            }
        }
        
        // onError Callback receives a PositionError object
        //
        function onError(error) {
            alert('code: '    + error.code    + '\n' +
                  'message: ' + error.message + '\n');
        }
        
        
        //distance formulas
        function getDistanceFromLatLonInFeet(lat1,lon1,lat2,lon2) {
            var R = 6371; // Radius of the earth in km
            var dLat = deg2rad(lat2-lat1);  // deg2rad below
            var dLon = deg2rad(lon2-lon1);
            var a =
            Math.sin(dLat/2) * Math.sin(dLat/2) +
            Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
            Math.sin(dLon/2) * Math.sin(dLon/2)
            ;
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            var d = R * c * 3280.8; // Distance in feet
            return d;
        }
        
        function deg2rad(deg) {
            return deg * (Math.PI/180)
        }
        
        
 </script>
 -->
</body>
</html>